namePrefix: dev-
namespace: meeting-tools

resources:
  - ./../base
  - ./ingress.yaml

patches:
  - path: ./secret-ref.yaml
  - path: ./volumes.yaml
  - path: ./app-name.yaml

images:
  - name: meeting-tools-backend
    newName: ghcr.io/marquescg/meeting-tools-backend
    newTag: e675b390f88b58f551e2366bd0976a8466dd4c30
  - name: meeting-tools-frontend
    newName: ghcr.io/marquescg/meeting-tools-frontend-dev
    newTag: e675b390f88b58f551e2366bd0976a8466dd4c30
  - name: meeting-tools-diarization
    newName: ghcr.io/marquescg/meeting-tools-diarization
    newTag: e675b390f88b58f551e2366bd0976a8466dd4c30

configMapGenerator:
  - name: meeting-tools-config
    literals:
      - backendurl=https://meeting-tools.marquescg.com/dev/api
      - backendurlinternal=http://dev-backend-service.meeting-tools-test.svc.cluster.local:8000
      - rabbitmq=amqp://guest:guest@dev-rabbitmq.meeting-tools-test.svc.cluster.local:5672
      - modelfile=/app/whisper-models/ggml-base.en.bin
      - data=/app/data
      - mongodb=mongodb://dev-mongodb.meeting-tools-test.svc.cluster.local:27017/dev-meeting-tools
      - backendroot=/dev/api
      - frontendroot=/dev
